<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mht.define.portal.cms.dao.TagManageDao">
    
	<sql id="tagColumns">
		a.id as "id",
		a.logo_url AS "logoUrl",
		a.logo_able AS "logoAble",
		a.edition AS "edition",
		a.contact_ways AS "contactWays",
		a.edition_able AS "editionAble",
		a.cooperator AS "cooperator",
		a.cooperator_able AS "cooperatorAble",
		a.link AS "link",
		a.link_able AS "linkAble"
	</sql>
	
	<select id="get" resultType="TagManage" >
		SELECT 
			<include refid="tagColumns"/>
		FROM mht_portal.tag_manage a
		WHERE a.id = #{id}
	</select>
	
	<select id="findList" resultType="TagManage">
	SELECT 
		<include refid="tagColumns"/>
	FROM mht_portal.tag_manage a 
	   <where>
			<if test="logoAble != null and logoAble != '' ">
				 a.logo_able  = #{logoAble}
			</if>
			<if test="editionAble != null and editionAble != '' ">
				AND a.edition_able  = #{editionAble}
			</if>
			<if test="cooperatorAble != null and cooperatorAble != '' ">
				AND a.cooperator_able  = #{cooperatorAble}
			</if>
			<if test="linkAble != null and cooperatorAble != '' ">
				AND a.link_able  = #{linkAble}
			</if>
			
		</where>	
	</select>
	
	<insert id="insert">
		INSERT INTO mht_portal.tag_manage(
			id,
			logo_url,
			logo_able,
			edition,
			contact_ways,
			edition_able,
			cooperator,
			cooperator_able,
			link,
			link_able
		) VALUES (
			#{id},
			#{logoUrl},
			#{logoAble},
			#{edition},
			#{contactWays},
			#{editionAble},
			#{cooperator},
			#{cooperatorAble},
			#{link},
			#{linkAble}
		)
	</insert>
	
	<update id="update">
		UPDATE mht_portal.tag_manage SET 	
			logo_url = #{logoUrl},
			logo_able = #{logoAble},
			edition = #{edition},
			contact_ways = #{contactWays},
			edition_able = #{editionAble},
			cooperator = #{cooperator},
			cooperator_able = #{cooperatorAble},
			link = #{link},
			link_able = #{linkAble}
		WHERE id = #{id}
	</update>
	
	
	<!--物理删除-->
	<delete id="delete">
		DELETE FROM mht_portal.tag_manage
		WHERE id = #{id}
	</delete>
	
</mapper>