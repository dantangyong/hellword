<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mht.define.portal.cms.dao.SolrHistoryDao">
<resultMap id="detailResultMap" type="com.mht.define.portal.cms.entity.SolrHistory">  
    <id column="id" property="id"/>  
    <result column="name" property="name"/>  
    <result column="count" property="count"/>
   <result column="service" property="service"/>
   <result column="create_date" property="create_date"/>
   <result column="update" property="update"/>
</resultMap>  
<select id="getHotName" resultMap="detailResultMap">
	SELECT * FROM solr_history  ORDER BY count desc LIMIT 8	
</select>
<select id="getServiceHotName" resultMap="detailResultMap">
	SELECT * FROM solr_history where service=#{service} ORDER BY count desc LIMIT 8	
</select>

<select id="getSearcheName" resultMap="detailResultMap">
	select * from solr_history   where name = #{name}
	
</select>
<update id="updateHotName"  >

  update solr_history set
    count = #{count},
    `update` =#{update}
  where name = #{name}
</update>
<insert id="addHotName" useGeneratedKeys="true"  keyProperty="id" >
  insert into solr_history (id,`name`,count,service,create_date,`update`)
  values (#{id},#{name},#{count},#{service},#{create_date},#{update})
</insert>

<select id="getHome" resultMap="detailResultMap">
	SELECT * FROM solr_history 
</select>   

<select id="getHotNews" resultType="Article">
	select * from cms_article a,cms_article_data b
    where a.id = b.id ORDER BY a.update_date desc LIMIT 6
</select>  















</mapper>